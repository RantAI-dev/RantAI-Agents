# ============================================
# RantAI Agents - Environment Configuration
# ============================================
# Copy this file to .env and configure your settings
# Run: cp .env.example .env

# ============================================
# DATABASE (Required)
# ============================================
# PostgreSQL connection (Docker default provided)
DATABASE_URL="postgresql://horizonlife:horizonlife_secret@localhost:5432/horizonlife_insurance?schema=public"

# ============================================
# VECTOR DATABASE (Required)
# ============================================
# SurrealDB for RAG embeddings storage
SURREAL_DB_URL="ws://localhost:8000/rpc"
SURREAL_DB_USER="root"
SURREAL_DB_PASS="root"
SURREAL_DB_NAMESPACE="rantai"
SURREAL_DB_DATABASE="knowledge"

# ============================================
# AUTHENTICATION (Required)
# ============================================
# Generate secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-here-generate-with-openssl-rand-base64-32"
NEXTAUTH_URL="http://localhost:3000"

# ============================================
# AI / LLM (Required)
# ============================================
# OpenRouter API - Powers chat and embeddings
# Get your key at: https://openrouter.ai/keys
OPENROUTER_API_KEY="sk-or-v1-your-api-key-here"

# ============================================
# S3 STORAGE (Required for file uploads)
# ============================================
# RustFS S3-compatible storage (Docker)
# Console: http://localhost:9001
# Default credentials: rustfsadmin / rustfsadmin
S3_ENDPOINT="http://localhost:9000"
S3_ACCESS_KEY_ID="rustfsadmin"
S3_SECRET_ACCESS_KEY="rustfsadmin"
S3_BUCKET="rantai-files"
S3_REGION="us-east-1"
S3_ENABLE_PATH_STYLE="1"
S3_PRESIGNED_URL_EXPIRE="7200"

# ============================================
# OCR PIPELINE (Optional - for document OCR)
# ============================================
# Ollama endpoint for local OCR models
# Docker: http://ollama:11434 | Local: http://localhost:11434
OLLAMA_ENDPOINT="http://localhost:11434"
OLLAMA_TIMEOUT="120000"

# MODEL SELECTION - Choose based on your hardware:
#
# ┌─────────────────┬────────────────────────────────────────┐
# │ Hardware        │ Recommended Models                     │
# ├─────────────────┼────────────────────────────────────────┤
# │ CPU-Only        │ moondream, qwen3-vl:2b                 │
# │ 4-6GB VRAM      │ glm-ocr (recommended), moondream       │
# │ 8-12GB VRAM     │ glm-ocr, qwen3-vl:8b                   │
# │ 16GB+ VRAM      │ glm-ocr (fast), minicpm-v:4.5 (best)   │
# └─────────────────┴────────────────────────────────────────┘
#
# Model Details:
#   glm-ocr       - 0.9B params, 2-3GB VRAM, 94.62% accuracy, fast
#   moondream     - 1.8B params, 3-4GB RAM, CPU-friendly
#   qwen3-vl:2b   - 2B params, 4GB, multilingual
#   qwen3-vl:8b   - 8B params, 6-8GB, better quality
#   minicpm-v:4.5 - 8B params, 10-12GB, SOTA handwriting

# Default model for general OCR
OCR_MODEL_DEFAULT="glm-ocr"

# Model for handwritten text (use minicpm-v:4.5 if you have 16GB+ VRAM)
OCR_MODEL_HANDWRITTEN="glm-ocr"

# Model for tables and forms
OCR_MODEL_TABLE="glm-ocr"

# Model for figures and diagrams
OCR_MODEL_FIGURE="glm-ocr"

# Fallback to OpenRouter if Ollama fails (recommended: true)
OCR_ENABLE_FALLBACK="true"
OCR_FALLBACK_MODEL="openai/gpt-4o-mini"

# ============================================
# WHATSAPP CHANNEL (Optional)
# ============================================
# Twilio configuration for WhatsApp integration
# Get credentials at: https://console.twilio.com
TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_WHATSAPP_NUMBER="+14155238886"  # Twilio sandbox number

# ============================================
# EMAIL CHANNEL (Optional)
# ============================================
# SMTP settings for email notifications
# SMTP_HOST=""
# SMTP_PORT=""
# SMTP_USER=""
# SMTP_PASS=""
# SMTP_FROM=""

# ============================================
# EXAMPLE CONFIGURATIONS
# ============================================
#
# --- CPU-Only Setup (No GPU) ---
# OCR_MODEL_DEFAULT="moondream"
# OCR_MODEL_HANDWRITTEN="qwen3-vl:2b"
# OCR_ENABLE_FALLBACK="true"
#
# --- Budget GPU (4-6GB VRAM) ---
# OCR_MODEL_DEFAULT="glm-ocr"
# OCR_MODEL_HANDWRITTEN="moondream"
# OCR_ENABLE_FALLBACK="true"
#
# --- Mid-Range GPU (8-12GB VRAM) ---
# OCR_MODEL_DEFAULT="glm-ocr"
# OCR_MODEL_HANDWRITTEN="qwen3-vl:8b"
# OCR_ENABLE_FALLBACK="true"
#
# --- High-End GPU (16GB+ VRAM) ---
# OCR_MODEL_DEFAULT="glm-ocr"
# OCR_MODEL_HANDWRITTEN="minicpm-v:4.5"
# OCR_ENABLE_FALLBACK="true"
#
# --- Cloud-Only (No Local OCR) ---
# OLLAMA_ENDPOINT=""
# OCR_ENABLE_FALLBACK="true"
# OCR_FALLBACK_MODEL="openai/gpt-4o-mini"
